"use strict";(self.webpackChunksantex_academy=self.webpackChunksantex_academy||[]).push([[434],{8434:($,h,t)=>{t.r(h),t.d(h,{LoginModule:()=>V});var p=t(6895),n=t(4006),g=t(4144),F=t(7392),i=t(4859),N=t(9814),v=t(3683),m=t(3546),I=t(8255),C=t(7155),U=t(4850),A=t(455),L=t(4385),P=t(3238),q=t(1572),u=t(1635),Z=t(727),c=t(5381),y=t(529),r=t(4650),S=t(7990),T=t(6791),d=t(9549);function J(o,s){1&o&&(r.TgZ(0,"mat-error"),r._uU(1," El email es requerido. "),r.qZA())}function R(o,s){1&o&&(r.TgZ(0,"mat-error"),r._uU(1," La cantidad m\xe1xima de caracteres es 255. "),r.qZA())}function Y(o,s){1&o&&(r.TgZ(0,"mat-error"),r._uU(1," La cantidad m\xednima de caracteres es 5. "),r.qZA())}function b(o,s){1&o&&(r.TgZ(0,"mat-error"),r._uU(1," Revis\xe1 tu Usuario. "),r.qZA())}function Q(o,s){1&o&&(r.TgZ(0,"mat-error"),r._uU(1," La contrase\xf1a es requerida. "),r.qZA())}function w(o,s){1&o&&(r.TgZ(0,"mat-error"),r._uU(1," La cantidad m\xe1xima de caracteres es 60. "),r.qZA())}function E(o,s){1&o&&(r.TgZ(0,"mat-error"),r._uU(1," La cantidad m\xednima de caracteres es 5. "),r.qZA())}let _=(()=>{class o{constructor(a,e,l,f){this.formBuilder=a,this.router=e,this.authService=l,this.toastService=f,this.loginForm=this.formBuilder.group({commodity:[null]}),this.formSubscritions=new Z.w0}ngOnInit(){this.crearLoginForm()}crearLoginForm(){this.loginForm=this.formBuilder.group({username:new n.p4(null,n.kI.compose([n.kI.required,n.kI.email,n.kI.maxLength(c.Au)])),password:new n.p4(null,n.kI.compose([n.kI.required,n.kI.maxLength(c.Ef)]))})}login(){const a=this.loginForm?.value;this.formSubscritions.add(this.authService.login(a.username,a.password).subscribe(e=>{this.authService.setUser(e),this.router.navigateByUrl("/dashboard")},e=>{const{message:l}=e.error;e instanceof y.UA&&(navigator.onLine?this.toastService.presentToast(401===e.status?l:"Error en la conexi\xf3n."):this.toastService.presentToast("No hay conexi\xf3n a Internet."))}))}checkForm(){this.loginForm.valid&&this.login()}ngOnDestroy(){this.formSubscritions.unsubscribe()}}return o.\u0275fac=function(a){return new(a||o)(r.Y36(n.QS),r.Y36(u.F0),r.Y36(S.e),r.Y36(T.k))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-login-page"]],decls:20,vars:8,consts:[[3,"formGroup","ngSubmit"],[1,"full-width-input"],["matInput","","placeholder","Email","formControlName","username","required",""],[4,"ngIf"],["matInput","","type","password","placeholder","Password","formControlName","password","required",""],["mat-raised-button","","routerLink","/auth/register"],["mat-raised-button","","color","primary",3,"click"]],template:function(a,e){1&a&&(r.TgZ(0,"mat-card")(1,"mat-card-content")(2,"form",0),r.NdJ("ngSubmit",function(){return e.loginForm.valid&&e.login()}),r.TgZ(3,"h2"),r._uU(4,"Log In"),r.qZA(),r.TgZ(5,"mat-form-field",1),r._UZ(6,"input",2),r.YNc(7,J,2,0,"mat-error",3),r.YNc(8,R,2,0,"mat-error",3),r.YNc(9,Y,2,0,"mat-error",3),r.YNc(10,b,2,0,"mat-error",3),r.qZA(),r.TgZ(11,"mat-form-field",1),r._UZ(12,"input",4),r.YNc(13,Q,2,0,"mat-error",3),r.YNc(14,w,2,0,"mat-error",3),r.YNc(15,E,2,0,"mat-error",3),r.qZA(),r.TgZ(16,"a",5),r._uU(17,"Registrar"),r.qZA(),r.TgZ(18,"button",6),r.NdJ("click",function(){return e.checkForm()}),r._uU(19,"Login"),r.qZA()()()()),2&a&&(r.xp6(2),r.Q6J("formGroup",e.loginForm),r.xp6(5),r.Q6J("ngIf",null==e.loginForm.controls.username||null==e.loginForm.controls.username.errors?null:e.loginForm.controls.username.errors.required),r.xp6(1),r.Q6J("ngIf",null==e.loginForm.controls.username||null==e.loginForm.controls.username.errors?null:e.loginForm.controls.username.errors.maxlength),r.xp6(1),r.Q6J("ngIf",null==e.loginForm.controls.username||null==e.loginForm.controls.username.errors?null:e.loginForm.controls.username.errors.minlength),r.xp6(1),r.Q6J("ngIf",null==e.loginForm.controls.username||null==e.loginForm.controls.username.errors?null:e.loginForm.controls.username.errors.backendErr),r.xp6(3),r.Q6J("ngIf",null==e.loginForm.controls.password||null==e.loginForm.controls.password.errors?null:e.loginForm.controls.password.errors.required),r.xp6(1),r.Q6J("ngIf",null==e.loginForm.controls.password||null==e.loginForm.controls.password.errors?null:e.loginForm.controls.password.errors.maxlength),r.xp6(1),r.Q6J("ngIf",null==e.loginForm.controls.password||null==e.loginForm.controls.password.errors?null:e.loginForm.controls.password.errors.minlength))},dependencies:[p.O5,u.yS,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.sg,n.u,d.TO,d.KE,g.Nt,i.lW,i.zs,m.a8,m.dn],styles:["mat-card[_ngcontent-%COMP%]{max-width:400px;margin:2em auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{display:block}"]}),o})();var k=t(8208);function B(o,s){1&o&&(r.TgZ(0,"mat-error"),r._uU(1," El nombre es requerido. "),r.qZA())}function O(o,s){1&o&&(r.TgZ(0,"mat-error"),r._uU(1," El apellido es requerido. "),r.qZA())}function M(o,s){1&o&&(r.TgZ(0,"mat-error"),r._uU(1," El nombre de usuario es requerido. "),r.qZA())}function D(o,s){1&o&&(r.TgZ(0,"mat-error"),r._uU(1," La cantidad m\xednima de caracteres es 5. "),r.qZA())}function X(o,s){1&o&&(r.TgZ(0,"mat-error"),r._uU(1," La cantidad m\xe1xima de caracteres es 255. "),r.qZA())}function z(o,s){1&o&&(r.TgZ(0,"mat-error"),r._uU(1," El nombre de usuario es requerido. "),r.qZA())}function j(o,s){1&o&&(r.TgZ(0,"mat-error"),r._uU(1," La cantidad m\xednima de caracteres es 5. "),r.qZA())}function G(o,s){1&o&&(r.TgZ(0,"mat-error"),r._uU(1," La cantidad m\xe1xima de caracteres es 255. "),r.qZA())}function K(o,s){1&o&&(r.TgZ(0,"mat-error"),r._uU(1," El password es requerido. "),r.qZA())}function W(o,s){1&o&&(r.TgZ(0,"mat-error"),r._uU(1," El password debe contener 5 carecteres como m\xednimo y al menos una letra minuscula, una letra mayuscula, un n\xfamero y un caracter especial. "),r.qZA())}const x=[{path:"login",component:_},{path:"register",component:(()=>{class o{constructor(a,e,l,f){this.formBuilder=a,this.userService=e,this.toastService=l,this.router=f,this.registerForm=this.formBuilder.group({commodity:[null]}),this.formSubscritions=new Z.w0}ngOnInit(){this.crearRegistroForm()}crearRegistroForm(){this.registerForm=this.formBuilder.group({firstName:new n.p4(null,n.kI.required),lastName:new n.p4(null,n.kI.required),userName:new n.p4(null,n.kI.compose([n.kI.required,n.kI.minLength(c.ZR),n.kI.maxLength(c.Au)])),email:new n.p4(null,n.kI.compose([n.kI.required,n.kI.email])),password:new n.p4(null,n.kI.compose([n.kI.required,n.kI.pattern(c.mS)]))})}register(){const a=this.registerForm?.value;this.formSubscritions.add(this.userService.createUser(a).subscribe(e=>{this.toastService.UserCreateok("Usuario Creado Correctamente"),this.router.navigateByUrl("/login")},e=>{this.toastService.presentToast("eroor al crear usuario")}))}checkForm(){this.registerForm.valid&&this.register()}ngOnDestroy(){this.formSubscritions.unsubscribe()}}return o.\u0275fac=function(a){return new(a||o)(r.Y36(n.QS),r.Y36(k.K),r.Y36(T.k),r.Y36(u.F0))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-register-page"]],decls:40,vars:12,consts:[[1,"my-card"],[3,"formGroup","ngSubmit"],[1,"full-width"],["matInput","","placeholder","Nombre","formControlName","firstName"],[4,"ngIf"],["matInput","","placeholder","Apellido","formControlName","lastName"],["matInput","","placeholder","Usuario","formControlName","userName"],["matInput","","placeholder","email","formControlName","email"],["matInput","","placeholder","Password","type","password","formControlName","password"],["mat-raised-button","","routerLink","/auth/login"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(a,e){1&a&&(r.TgZ(0,"mat-card",0)(1,"mat-card-content")(2,"form",1),r.NdJ("ngSubmit",function(){return e.registerForm.valid&&e.register()}),r.TgZ(3,"h2"),r._uU(4,"Registrar"),r.qZA(),r.TgZ(5,"mat-form-field",2)(6,"mat-label"),r._uU(7,"Nombre"),r.qZA(),r._UZ(8,"input",3),r.YNc(9,B,2,0,"mat-error",4),r.qZA(),r.TgZ(10,"mat-form-field",2)(11,"mat-label"),r._uU(12,"Apellido"),r.qZA(),r._UZ(13,"input",5),r.YNc(14,O,2,0,"mat-error",4),r.qZA(),r.TgZ(15,"mat-form-field",2)(16,"mat-label"),r._uU(17,"Usuario"),r.qZA(),r._UZ(18,"input",6),r.YNc(19,M,2,0,"mat-error",4),r.YNc(20,D,2,0,"mat-error",4),r.YNc(21,X,2,0,"mat-error",4),r.qZA(),r.TgZ(22,"mat-form-field",2)(23,"mat-label"),r._uU(24,"email"),r.qZA(),r._UZ(25,"input",7),r.YNc(26,z,2,0,"mat-error",4),r.YNc(27,j,2,0,"mat-error",4),r.YNc(28,G,2,0,"mat-error",4),r.qZA(),r.TgZ(29,"mat-form-field",2)(30,"mat-label"),r._uU(31,"Password"),r.qZA(),r._UZ(32,"input",8),r.YNc(33,K,2,0,"mat-error",4),r.YNc(34,W,2,0,"mat-error",4),r.qZA(),r.TgZ(35,"mat-card-actions")(36,"a",9),r._uU(37,"Cancel"),r.qZA(),r.TgZ(38,"button",10),r._uU(39,"Registrar"),r.qZA()()()()()),2&a&&(r.xp6(2),r.Q6J("formGroup",e.registerForm),r.xp6(7),r.Q6J("ngIf",null==e.registerForm.controls.firstName||null==e.registerForm.controls.firstName.errors?null:e.registerForm.controls.firstName.errors.required),r.xp6(5),r.Q6J("ngIf",null==e.registerForm.controls.lastName||null==e.registerForm.controls.lastName.errors?null:e.registerForm.controls.lastName.errors.required),r.xp6(5),r.Q6J("ngIf",null==e.registerForm.controls.userName||null==e.registerForm.controls.userName.errors?null:e.registerForm.controls.userName.errors.required),r.xp6(1),r.Q6J("ngIf",null==e.registerForm.controls.userName||null==e.registerForm.controls.userName.errors?null:e.registerForm.controls.userName.errors.minlength),r.xp6(1),r.Q6J("ngIf",null==e.registerForm.controls.userName||null==e.registerForm.controls.userName.errors?null:e.registerForm.controls.userName.errors.maxlength),r.xp6(5),r.Q6J("ngIf",null==e.registerForm.controls.email||null==e.registerForm.controls.email.errors?null:e.registerForm.controls.email.errors.required),r.xp6(1),r.Q6J("ngIf",null==e.registerForm.controls.email||null==e.registerForm.controls.email.errors?null:e.registerForm.controls.email.errors.minlength),r.xp6(1),r.Q6J("ngIf",null==e.registerForm.controls.email||null==e.registerForm.controls.email.errors?null:e.registerForm.controls.email.errors.maxlength),r.xp6(5),r.Q6J("ngIf",null==e.registerForm.controls.password||null==e.registerForm.controls.password.errors?null:e.registerForm.controls.password.errors.required),r.xp6(1),r.Q6J("ngIf",null==e.registerForm.controls.password||null==e.registerForm.controls.password.errors?null:e.registerForm.controls.password.errors.pattern),r.xp6(4),r.Q6J("disabled",e.registerForm.invalid))},dependencies:[p.O5,u.yS,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,d.TO,d.KE,d.hX,g.Nt,i.lW,i.zs,m.a8,m.dn,m.hq],styles:["mat-card[_ngcontent-%COMP%]{max-width:400px;margin:2em auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{display:block}"]}),o})()}];let H=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[u.Bz.forChild(x),u.Bz]}),o})(),V=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[p.ez,H,n.UX,g.c,i.ot,n.UX,g.c,F.Ps,N.o9,n.UX,v.g0,g.c,m.QW,I.Tx,F.Ps,i.ot,C.p0,U.t,A.rP,L.LD,P.Ng,q.Cq]}),o})()}}]);